{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"D:\\\\Notes_app\\\\Pages\\\\add_notes\\\\Add_events.js\";\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Add_contact_products from \"./Add_contact_products\";\nimport My_events from \"./events_components/My_events\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport Add_event_modal from \"../modals/Add_event_modal\";\nimport Sync_model from \"../modals/Sync_model\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { load_events } from \"../models/all_models\";\nimport { cookies } from \"../Settings\";\n\nvar Add_events = function (_Component) {\n  _inherits(Add_events, _Component);\n\n  function Add_events(props) {\n    var _this;\n\n    _classCallCheck(this, Add_events);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Add_events).call(this, props));\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(cookies.then(function (obj) {\n                var data = JSON.parse(obj);\n\n                _this.setState({\n                  user_id: data.user_id\n                });\n              }));\n\n            case 2:\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(_this.get_data(_this.state.user_id));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.get_data = function _callee2(user_id) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(load_events(0, user_id).then(function (response) {\n                var event_data = JSON.parse(response);\n\n                _this.setState({\n                  Events_list: event_data.Events_list,\n                  Last_events_list: event_data.Last_events_list\n                });\n              }));\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      });\n    };\n\n    _this._c_event_pop = function (value) {\n      _this.setState({\n        create_event_modal: value\n      });\n\n      _this.get_data(_this.state.user_id);\n    };\n\n    _this.syn_popup = function (value) {\n      _this.setState({\n        sync_model: value\n      });\n    };\n\n    _this._c_con_pro_pop = function (value) {\n      _this.setState({\n        create_con_pro: value\n      });\n    };\n\n    _this.sync_popup = function (value) {\n      _this.setState({\n        sync_model: value\n      });\n    };\n\n    _this.notePopup = function (event_id) {\n      _this.setState({\n        create_con_pro: true,\n        selected_event_id: event_id\n      });\n\n      _this.storeData(event_id);\n    };\n\n    _this.storeData = function _callee3(event_id) {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('selected_event_id', event_id.toString()));\n\n            case 3:\n              console.log('event_id saved' + event_id);\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, [[0, 6]]);\n    };\n\n    _this.load_suppliers = function _callee4(event) {\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _this.props.navigation.navigate('Add_supp', {\n                event_id: event.event_id,\n                event_name: event.event_name\n              });\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      });\n    };\n\n    _this.state = {\n      selected_event_id: null,\n      user_id: null,\n      create_event_modal: false,\n      create_con_pro: false,\n      Events_list: [],\n      Last_events_list: [],\n      headername: null,\n      sync_model: false\n    };\n    return _this;\n  }\n\n  _createClass(Add_events, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        }\n      }, this.state.create_event_modal ? React.createElement(Add_event_modal, {\n        updateState: this._c_event_pop.bind(this),\n        modalvisibility: this.state.create_event_modal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        }\n      }) : null, this.state.create_con_pro ? React.createElement(Add_contact_products, {\n        selected_event_id: this.state.selected_event_id,\n        updateState: this._c_con_pro_pop.bind(this),\n        modalvisibility: this.state.create_con_pro,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        }\n      }) : null, this.state.sync_model ? React.createElement(Sync_model, {\n        sync_popup: this.sync_popup.bind(this),\n        modalvisibility: this.state.sync_model,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        }\n      }) : null, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        }\n      }, React.createElement(View, {\n        style: styles.inline_block,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          _this2._c_event_pop(true);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"add-circle-outline\",\n        size: 60,\n        color: \"#000000\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        }\n      }), React.createElement(Text, {\n        style: styles.eventname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        }\n      }, \"ADD EVENT\")), React.createElement(TouchableOpacity, {\n        style: {\n          position: \"absolute\",\n          right: 0\n        },\n        onPress: function onPress() {\n          _this2.syn_popup(true);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 60,\n          height: 60,\n          marginRight: 15\n        },\n        source: require(\"../../assets/img/sync.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        }\n      }), React.createElement(Text, {\n        style: styles.eventname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        }\n      }, \"SYNC\"))), React.createElement(Text, {\n        style: styles.heading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        }\n      }, \"RECENT EVENTS\"), React.createElement(FlatList, {\n        numColumns: 3,\n        data: this.state.Last_events_list,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(My_events, {\n            load_supplier_page: _this2.load_suppliers.bind(_this2),\n            updateState: _this2.notePopup.bind(_this2),\n            eventid: item.event_id,\n            eventname: item.event_name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        }\n      })), React.createElement(Text, {\n        style: styles.heading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        }\n      }, \"ALL EVENTS\"), React.createElement(FlatList, {\n        numColumns: 4,\n        data: this.state.Events_list,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref2) {\n          var item = _ref2.item,\n              index = _ref2.index;\n          return React.createElement(My_events, {\n            load_supplier_page: _this2.load_suppliers.bind(_this2),\n            updateState: _this2.notePopup.bind(_this2),\n            eventid: item.event_id,\n            eventname: item.event_name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        }\n      }));\n    }\n  }]);\n\n  return Add_events;\n}(Component);\n\nexport { Add_events as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    margin: 20\n  },\n  heading: {\n    fontSize: 22,\n    color: \"#000000\",\n    marginTop: 10,\n    marginBottom: 10,\n    fontWeight: \"bold\"\n  },\n  inline_block: {}\n});","map":{"version":3,"sources":["D:/Notes_app/Pages/add_notes/Add_events.js"],"names":["React","Component","Add_contact_products","My_events","TouchableOpacity","Add_event_modal","Sync_model","MaterialIcons","load_events","cookies","Add_events","props","componentDidMount","then","obj","data","JSON","parse","setState","user_id","get_data","state","response","event_data","Events_list","Last_events_list","_c_event_pop","value","create_event_modal","syn_popup","sync_model","_c_con_pro_pop","create_con_pro","sync_popup","notePopup","event_id","selected_event_id","storeData","AsyncStorage","setItem","toString","console","log","load_suppliers","event","navigation","navigate","event_name","headername","styles","container","bind","inline_block","eventname","position","right","width","height","marginRight","require","heading","item","index","StyleSheet","create","flex","margin","fontSize","color","marginTop","marginBottom","fontWeight"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport { View, Text, StyleSheet, FlatList, Image, AsyncStorage } from 'react-native';\r\nimport Add_contact_products from './Add_contact_products';\r\n \r\nimport My_events from './events_components/My_events';\r\nimport { TouchableOpacity } from 'react-native-gesture-handler';\r\nimport Add_event_modal from '../modals/Add_event_modal';\r\n \r\nimport Sync_model from '../modals/Sync_model';\r\n \r\nimport { MaterialIcons } from '@expo/vector-icons';\r\nimport { load_events } from '../models/all_models';\r\nimport { cookies } from '../Settings';\r\n\r\n\r\nexport default class Add_events extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selected_event_id: null,\r\n            user_id: null,\r\n            create_event_modal: false,\r\n            create_con_pro: false,\r\n            Events_list: [],\r\n            Last_events_list: [],\r\n            headername: null,\r\n            sync_model: false\r\n        }\r\n     \r\n    \r\n    }\r\n\r\n    componentDidMount=async()=> {\r\n        await cookies.then((obj)  => {\r\n            var data =     JSON.parse(obj);  \r\n            this.setState({\r\n                user_id:data.user_id\r\n            })   \r\n         });\r\n\r\n         await  this.get_data(this.state.user_id); \r\n    }\r\n\r\n    get_data = async (user_id) => { \r\n        ////++++++++++++++++++++++++++++++++++++++++++++++\r\n        ////////////////////////ALL EVENTS start///////// \r\n        ////++++++++++++++++++++++++++++++++++++++++++++++\r\n  \r\n       await load_events(0,user_id).then((response) => { \r\n\r\n            var event_data   = JSON.parse(response);\r\n            this.setState({\r\n                Events_list:event_data.Events_list,\r\n                Last_events_list:event_data.Last_events_list\r\n            });\r\n\r\n        });\r\n        \r\n \r\n        ////++++++++++++++++++++++++++++++++++++++++++++++\r\n        ////////////////////////ALL EVENTS ends //////////\r\n        ////++++++++++++++++++++++++++++++++++++++++++++++\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    _c_event_pop = (value) => {\r\n\r\n        this.setState({\r\n            create_event_modal: value\r\n        });\r\n        this.get_data(this.state.user_id);\r\n\r\n    }\r\n\r\n    syn_popup = (value) => {\r\n\r\n        this.setState({\r\n            sync_model: value\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    ////////////////////////////\r\n    ///////////////////////////\r\n    _c_con_pro_pop = (value) => {\r\n        this.setState({\r\n            create_con_pro: value\r\n        });\r\n    }\r\n\r\n\r\n    ////////////////////////////\r\n    ///////////////////////////\r\n    sync_popup = (value) => {\r\n        this.setState({\r\n            sync_model: value\r\n        });\r\n    }\r\n\r\n    ////Contact Product Popup ////////\r\n    ////////////////////////////\r\n    notePopup = (event_id) => {\r\n        this.setState({\r\n            create_con_pro: true,\r\n            selected_event_id: event_id\r\n        });\r\n\r\n\r\n        this.storeData(event_id);\r\n    }\r\n    //////////////////////////\r\n    /////////////////////////\r\n    /////// Store selected_event_id ///////\r\n    storeData = async (event_id) => {\r\n\r\n        try {\r\n            await AsyncStorage.setItem('selected_event_id', event_id.toString())\r\n            console.log('event_id saved' + event_id);\r\n\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    ///////////////////////\r\n    //////////////////////////\r\n    // GO to supplier page \r\n    load_suppliers = async (event) => {\r\n        // console.log(event.event_id);\r\n\r\n        this.props.navigation.navigate('Add_supp', {\r\n            event_id: event.event_id,\r\n            event_name: event.event_name\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <View style={styles.container} >\r\n                {this.state.create_event_modal ? <Add_event_modal updateState={this._c_event_pop.bind(this)} modalvisibility={this.state.create_event_modal} /> : null}\r\n\r\n                {this.state.create_con_pro ? <Add_contact_products selected_event_id={this.state.selected_event_id} updateState={this._c_con_pro_pop.bind(this)} modalvisibility={this.state.create_con_pro} /> : null}\r\n                {this.state.sync_model ? <Sync_model sync_popup={this.sync_popup.bind(this)} modalvisibility={this.state.sync_model} /> : null}\r\n\r\n                <View>\r\n                    <View style={styles.inline_block}>\r\n                        <TouchableOpacity onPress={() => { this._c_event_pop(true) }} >\r\n                            <MaterialIcons name=\"add-circle-outline\" size={60} color=\"#000000\" />\r\n                            <Text style={styles.eventname}>ADD EVENT</Text>\r\n                        </TouchableOpacity>\r\n\r\n\r\n\r\n\r\n                        <TouchableOpacity style={{ position: \"absolute\", right: 0 }} onPress={() => { this.syn_popup(true) }} >\r\n                            <Image style={{ width: 60, height: 60, marginRight: 15 }}\r\n                                source={require('../../assets/img/sync.png')}\r\n                            />\r\n                            <Text style={styles.eventname}>SYNC</Text>\r\n                        </TouchableOpacity>\r\n\r\n\r\n                    </View>\r\n\r\n\r\n\r\n                    <Text style={styles.heading}>RECENT EVENTS</Text>\r\n                    <FlatList\r\n                        numColumns={3}\r\n                        data={this.state.Last_events_list}\r\n                        //Item Separator View\r\n                        keyExtractor={(item, index) => index.toString()}\r\n                        renderItem={({ item, index }) => (\r\n                            <My_events load_supplier_page={this.load_suppliers.bind(this)} updateState={this.notePopup.bind(this)} eventid={item.event_id} eventname={item.event_name} />\r\n                        )}\r\n                    />\r\n\r\n                </View>\r\n                <Text style={styles.heading}>ALL EVENTS</Text>\r\n                <FlatList\r\n                    numColumns={4}\r\n                    data={this.state.Events_list}\r\n                    //Item Separator View\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                    renderItem={({ item, index }) => (\r\n\r\n                        <My_events load_supplier_page={this.load_suppliers.bind(this)} updateState={this.notePopup.bind(this)} eventid={item.event_id} eventname={item.event_name} />\r\n\r\n                    )}\r\n\r\n                />\r\n\r\n            </View>\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        margin: 20,\r\n\r\n    },\r\n    heading: {\r\n        fontSize: 22,\r\n        color: \"#000000\",\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        fontWeight: \"bold\"\r\n    },\r\n    inline_block: {\r\n        // flexDirection: 'row', \r\n        // alignSelf: 'flex-start'\r\n    }\r\n});\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}