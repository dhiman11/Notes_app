{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"D:\\\\Notes_app\\\\Pages\\\\add_notes\\\\Add_suppliers.js\";\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport My_suppliers from \"./events_components/My_suppliers\";\nimport Create_supplier from \"./notes_components/Create_supplier\";\nimport { MaterialIcons, Entypo, Ionicons } from '@expo/vector-icons';\nimport { load_suppliers } from \"../models/all_models\";\n\nvar Add_suppliers = function (_Component) {\n  _inherits(Add_suppliers, _Component);\n\n  function Add_suppliers(props) {\n    var _this;\n\n    _classCallCheck(this, Add_suppliers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Add_suppliers).call(this, props));\n\n    _this.get_suppliers_data = function (event_id) {\n      load_suppliers(event_id).then(function (response) {\n        var supp_data = JSON.parse(response);\n        console.log(supp_data.data);\n\n        _this.setState({\n          all_suppliers: supp_data.data\n        });\n      });\n    };\n\n    _this.go_event_page = function () {\n      _this.props.navigation.navigate('Add_events');\n    };\n\n    _this.load_suppliers_data = function _callee(supp_data) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.props.navigation.navigate('Explore_data', {\n                supp_id: supp_data.supplier_id,\n                supp_name: supp_data.suppliername\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.setModalVisible = function (state) {\n      _this.setState({\n        add_supp_model: state\n      });\n\n      _this.get_suppliers_data(_this.state.event_id);\n    };\n\n    _this.state = {\n      Last_events_list: [],\n      event_id: '',\n      event_name: '',\n      add_supp_model: false\n    };\n    return _this;\n  }\n\n  _createClass(Add_suppliers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var params = this.props.navigation.state.params;\n      var event_id = params['event_id'];\n      var event_name = params['event_name'];\n      this.get_suppliers_data(event_id);\n      this.setState({\n        event_id: event_id,\n        event_name: event_name\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        }\n      }, this.state.add_supp_model ? React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: false,\n        visible: this.state.add_supp_model,\n        onRequestClose: function onRequestClose() {\n          _this2.setModalVisible(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          zIndex: 10,\n          position: \"absolute\",\n          right: 10,\n          top: 10\n        },\n        onPress: function onPress() {\n          _this2.setModalVisible(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        }\n      }, React.createElement(Image, {\n        source: require(\"../../assets/img/close.png\"),\n        style: {\n          width: 40,\n          height: 40,\n          marginLeft: 8\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        }\n      })), React.createElement(Create_supplier, {\n        handle_visibility: this.setModalVisible.bind(this),\n        single_event: true,\n        event_id: this.state.event_id,\n        event_name: this.state.event_name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        }\n      })) : null, React.createElement(View, {\n        style: styles.inline_block,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          marginRight: 30\n        },\n        onPress: function onPress() {\n          _this2.go_event_page();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        }\n      }, React.createElement(Ionicons, {\n        name: \"md-arrow-round-back\",\n        size: 60,\n        color: \"#000000\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        }\n      }), React.createElement(Text, {\n        style: styles.eventname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        }\n      }, \"EVENTS\")), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          _this2.setModalVisible(true);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"add-circle-outline\",\n        size: 60,\n        color: \"#000000\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        }\n      }), React.createElement(Text, {\n        style: styles.eventname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        }\n      }, \"ADD SUPPLIER\"))), React.createElement(Text, {\n        style: styles.heading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        }\n      }, this.state.event_name, \" : Suppliers\"), React.createElement(FlatList, {\n        numColumns: 4,\n        data: this.state.all_suppliers,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(My_suppliers, {\n            load_supplier_page: _this2.load_suppliers_data.bind(_this2),\n            supplier_id: item.supplier_note_id,\n            suppliername: item.supplier_name,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 140\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        }\n      }));\n    }\n  }]);\n\n  return Add_suppliers;\n}(Component);\n\nexport { Add_suppliers as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    margin: 20\n  },\n  heading: {\n    fontSize: 22,\n    color: \"#000000\",\n    marginTop: 10,\n    marginBottom: 10,\n    fontWeight: \"bold\"\n  },\n  inline_block: {\n    flexDirection: 'row',\n    alignSelf: 'flex-start'\n  }\n});","map":{"version":3,"sources":["D:/Notes_app/Pages/add_notes/Add_suppliers.js"],"names":["React","Component","My_suppliers","Create_supplier","MaterialIcons","Entypo","Ionicons","load_suppliers","Add_suppliers","props","get_suppliers_data","event_id","then","response","supp_data","JSON","parse","console","log","data","setState","all_suppliers","go_event_page","navigation","navigate","load_suppliers_data","supp_id","supplier_id","supp_name","suppliername","setModalVisible","state","add_supp_model","Last_events_list","event_name","params","styles","container","zIndex","position","right","top","require","width","height","marginLeft","bind","inline_block","marginRight","eventname","heading","item","index","toString","supplier_note_id","supplier_name","StyleSheet","create","flex","margin","fontSize","color","marginTop","marginBottom","fontWeight","flexDirection","alignSelf"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { View, Text, FlatList, StyleSheet, Image, TouchableOpacity, Modal } from 'react-native';\r\n\r\n////////////////////SQLLITE CONNECTION \r\nimport My_suppliers from './events_components/My_suppliers';\r\nimport Create_supplier from './notes_components/Create_supplier';\r\n////////////////////SQLLITE CONNECTION\r\n \r\n//////////////////////////////////////\r\nimport { MaterialIcons, Entypo, Ionicons } from '@expo/vector-icons';\r\nimport { load_suppliers } from '../models/all_models';\r\n\r\nexport default class Add_suppliers extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Last_events_list: [],\r\n            event_id: '',\r\n            event_name: '',\r\n            add_supp_model: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let params = this.props.navigation.state.params;\r\n        let event_id = params['event_id'];\r\n        let event_name = params['event_name'];\r\n        this.get_suppliers_data(event_id);\r\n\r\n        this.setState({\r\n            event_id: event_id,\r\n            event_name: event_name\r\n        })\r\n\r\n\r\n\r\n\r\n        //////// Create the suppliers database if not existed///////////\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    /////////////////////////////\r\n    // GET ALL THE SUPPLIERS DATA from event id\r\n    ////////////////////////////\r\n\r\n    get_suppliers_data = (event_id) => {\r\n\r\n        load_suppliers(event_id).then((response) => {\r\n            var supp_data = JSON.parse(response);\r\n            console.log(supp_data.data);\r\n            this.setState({\r\n                all_suppliers: supp_data.data\r\n            });\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    /////////////////////////////\r\n    ///GO TO EVENT page \r\n    go_event_page = () => {\r\n        this.props.navigation.navigate('Add_events');\r\n    }\r\n\r\n\r\n    load_suppliers_data = async (supp_data) => {\r\n\r\n        this.props.navigation.navigate('Explore_data', {\r\n            supp_id: supp_data.supplier_id,\r\n            supp_name: supp_data.suppliername\r\n        });\r\n    }\r\n\r\n\r\n    setModalVisible = (state) => {\r\n        this.setState({\r\n            add_supp_model: state\r\n        })\r\n        this.get_suppliers_data(this.state.event_id);\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <View style={styles.container} >\r\n\r\n                {this.state.add_supp_model ?\r\n                    <Modal\r\n                        animationType=\"slide\"\r\n                        transparent={false}\r\n                        visible={this.state.add_supp_model}\r\n                        onRequestClose={() => {\r\n                            this.setModalVisible(false)\r\n                        }}>\r\n                        <TouchableOpacity style={{ zIndex: 10, position: \"absolute\", right: 10, top: 10 }} onPress={() => { this.setModalVisible(false) }}>\r\n                            <Image\r\n                                source={require('../../assets/img/close.png')}\r\n                                style={{ width: 40, height: 40, marginLeft: 8 }}\r\n                            />\r\n                        </TouchableOpacity>\r\n                        <Create_supplier handle_visibility={this.setModalVisible.bind(this)} single_event={true} event_id={this.state.event_id} event_name={this.state.event_name} />\r\n                    </Modal> : null}\r\n\r\n\r\n                <View style={styles.inline_block}>\r\n\r\n\r\n                    <TouchableOpacity style={{ marginRight: 30 }} onPress={() => { this.go_event_page() }} >\r\n                        <Ionicons name=\"md-arrow-round-back\" size={60} color=\"#000000\" />\r\n                        <Text style={styles.eventname}>EVENTS</Text>\r\n                    </TouchableOpacity>\r\n\r\n                    <TouchableOpacity onPress={() => {\r\n                        this.setModalVisible(true)\r\n                    }}  >\r\n                        <MaterialIcons name=\"add-circle-outline\" size={60} color=\"#000000\" />\r\n                        <Text style={styles.eventname}>ADD SUPPLIER</Text>\r\n                    </TouchableOpacity>\r\n\r\n\r\n                </View>\r\n\r\n                <Text style={styles.heading}>{this.state.event_name} : Suppliers</Text>\r\n\r\n                <FlatList\r\n                    numColumns={4}\r\n                    data={this.state.all_suppliers}\r\n                    //Item Separator View\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                    renderItem={({ item, index }) => (\r\n\r\n                        <My_suppliers load_supplier_page={this.load_suppliers_data.bind(this)} supplier_id={item.supplier_note_id} suppliername={item.supplier_name} />\r\n\r\n                    )}\r\n\r\n                />\r\n\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        margin: 20,\r\n\r\n    },\r\n    heading: {\r\n        fontSize: 22,\r\n        color: \"#000000\",\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        fontWeight: \"bold\"\r\n    },\r\n    inline_block: {\r\n        flexDirection: 'row',\r\n        alignSelf: 'flex-start'\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}