{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import FlatList from\"react-native-web/dist/exports/FlatList\";import RefreshControl from\"react-native-web/dist/exports/RefreshControl\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import{TouchableOpacity}from'react-native-gesture-handler';import Event_compo from\"./History_components/Event_compo.js\";import Contact_compo from\"./History_components/Contact_compo.js\";import Product_compo from\"./History_components/Product_compo.js\";import Supplier_compo from\"./History_components/Supplier_compo.js\";import{api_name}from\"./Settings.js\";var History_online=function(_Component){_inherits(History_online,_Component);function History_online(props){var _this;_classCallCheck(this,History_online);_this=_possibleConstructorReturn(this,_getPrototypeOf(History_online).call(this,props));_this._onRefresh=function(){_this.setState({isRefreshing:true});_this.setState({history_array:[]});_this.setState({limit:0});_this.__load_historydata(0);_this.setState({isRefreshing:false});_this.setState({loadmore_test:' '});};_this.handleLoadMore=function(){_this.setState({loadmore_test:'Loading...'});var limit=parseInt(_this.state.limit)+parseInt(20);_this.setState({limit:limit});_this.__load_historydata(limit);_this.setState({loadmore_test:'Scroll down to load more'});};_this.__load_historydata=function(limit){fetch(api_name+'history/History_page/history_data',{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({limit:limit})}).then(function(response){return response.json();}).then(function(responseJson){_this.setState({history_array:[].concat(_toConsumableArray(_this.state.history_array),_toConsumableArray(responseJson)),loadingmore:false});}).catch(function(error){console.error(error);});};_this.edit_it=function(id,type){var name=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';if(type==\"event\"){_this.props.navigation.navigate('Add_suppliers',{event_id:id,event_name:name});}if(type==\"supplier\"){_this.props.navigation.navigate('Explore_data',{supp_id:id,supp_name:name});}if(type==\"product\"){_this.props.navigation.navigate('Edit_p',{product_id:id});}if(type==\"contact\"){_this.props.navigation.navigate('Edit_c',{contact_id:id});}};_this.state={loadmore_test:'',isRefreshing:false,loadingmore:true,history_array:[],limit:0};_this.__load_historydata(_this.state.limit);return _this;}_createClass(History_online,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.didFocusListener=this.props.navigation.addListener('didFocus',function(){_this2.setState({loadingmore:true});_this2.setState({history_array:[]});_this2.setState({limit:0});_this2.__load_historydata(0);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.didFocusListener.remove();}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(View,{style:styles.container},React.createElement(View,null,React.createElement(Text,{style:styles.heading},\"HISTORY\")),this.state.loadingmore&&React.createElement(ActivityIndicator,{animating:this.state.loadingmore,size:\"large\",color:\"red\"}),React.createElement(FlatList,{numColumns:1,data:this.state.history_array,refreshControl:React.createElement(RefreshControl,{refreshing:this.state.isRefreshing,onRefresh:this._onRefresh.bind(this)}),keyExtractor:function keyExtractor(item,index){return index.toString();},onEndReachedThreshold:3,onEndReached:this.handleLoadMore.bind(this),renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;return React.createElement(View,null,item.data_type=='event'&&React.createElement(TouchableOpacity,{onPress:function onPress(){_this3.edit_it(item.event.event_id,'event',item.event.event_name);}},React.createElement(Event_compo,{image:item.event_images,event_name:item.event.event_name,city:item.event.city,from_date:item.event.from_date,to_date:item.event.to_date,data:item.event})),item.data_type=='supplier'&&React.createElement(TouchableOpacity,{onPress:function onPress(){_this3.edit_it(item.data.supplier_note_id,'supplier',item.data.supplier_name);}},React.createElement(Supplier_compo,{image:item.supplier_images,supplier_name:item.data.supplier_name})),item.data_type=='contact'&&React.createElement(TouchableOpacity,{onPress:function onPress(){_this3.edit_it(item.data.contact_id,'contact');}},React.createElement(Contact_compo,{contact_name:item.data.contact_name,supplier_name:item.data.supplier_name,phone:item.data.phone,email:item.data.email,note:item.data.note,data:item.data,image:item.contact_images})),item.data_type=='product'&&React.createElement(TouchableOpacity,{onPress:function onPress(){_this3.edit_it(item.data.product_id,'product');}},React.createElement(Product_compo,{product_name:item.data.product_name,supplier_name:item.data.supplier_name,fob_price:item.data.fob_price,moq:item.data.moq,Note:item.data.Note,image:item.pro_images,data:item.data})));}}),React.createElement(View,null,React.createElement(Text,null,this.state.loadmore_test)));}}]);return History_online;}(Component);var styles=StyleSheet.create({container:{flex:1,justifyContent:'center',alignItems:'center',backgroundColor:'#fff'},heading:{fontSize:22,color:\"#000000\",marginTop:10,width:100,marginBottom:20,fontWeight:\"bold\"}});export default History_online;","map":{"version":3,"sources":["D:/Notes_app/Pages/History_online.js"],"names":["React","Component","TouchableOpacity","Event_compo","Contact_compo","Product_compo","Supplier_compo","api_name","History_online","props","_onRefresh","setState","isRefreshing","history_array","limit","__load_historydata","loadmore_test","handleLoadMore","parseInt","state","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","responseJson","loadingmore","catch","error","console","edit_it","id","type","name","navigation","navigate","event_id","event_name","supp_id","supp_name","product_id","contact_id","didFocusListener","addListener","remove","styles","container","heading","bind","item","index","toString","data_type","event","event_images","city","from_date","to_date","data","supplier_note_id","supplier_name","supplier_images","contact_name","phone","email","note","contact_images","product_name","fob_price","moq","Note","pro_images","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","fontSize","color","marginTop","width","marginBottom","fontWeight"],"mappings":"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","sourcesContent":["//import liraries\r\nimport React, { Component } from 'react';\r\nimport { View, Text, StyleSheet, FlatList, RefreshControl, ActivityIndicator } from 'react-native';\r\n \r\n \r\n// import Edit_product from './edit_note/Edit_product.js';\r\nimport { TouchableOpacity } from 'react-native-gesture-handler';\r\nimport Event_compo from './History_components/Event_compo.js';\r\nimport Contact_compo from './History_components/Contact_compo.js';\r\nimport Product_compo from './History_components/Product_compo.js';\r\nimport Supplier_compo from './History_components/Supplier_compo.js';\r\nimport { api_name } from './Settings.js';\r\n\r\n// create a component\r\nclass History_online extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loadmore_test: '',\r\n            isRefreshing: false,\r\n            loadingmore: true,\r\n            history_array: [],\r\n            limit: 0,\r\n\r\n        }\r\n        this.__load_historydata(this.state.limit);\r\n\r\n    }\r\n\r\n\r\n    /////////////////////////////////////////////////////\r\n    ////////////// Reload Data when Change Tab //////////\r\n\r\n    componentDidMount() {\r\n        this.didFocusListener = this.props.navigation.addListener(\r\n            'didFocus',\r\n            () => {\r\n                this.setState({ loadingmore: true });\r\n                this.setState({ history_array: [] });\r\n                this.setState({ limit: 0 });\r\n                this.__load_historydata(0);\r\n\r\n            },\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.didFocusListener.remove();\r\n    }\r\n\r\n    /////////////////////////////////////////////////////\r\n    ////////////// Reload Data when Change Tab //////////\r\n\r\n\r\n\r\n    ////// ON REFERESH PAGE /////////\r\n    _onRefresh = () => {\r\n        this.setState({ isRefreshing: true })\r\n        this.setState({ history_array: [] })\r\n        this.setState({ limit: 0 })\r\n        this.__load_historydata(0);\r\n        this.setState({ isRefreshing: false })\r\n        this.setState({ loadmore_test: ' ', });\r\n    }\r\n\r\n\r\n    ///// LOAD MORE ////////////////////\r\n    handleLoadMore = () => {\r\n\r\n        this.setState({ loadmore_test: 'Loading...', });\r\n        var limit = parseInt(this.state.limit) + parseInt(20);  // increase page by 1\r\n        this.setState({ limit: limit });\r\n        this.__load_historydata(limit);  // method for API call \r\n        this.setState({ loadmore_test: 'Scroll down to load more', });\r\n\r\n    };\r\n\r\n\r\n    ////////////////////////////// LOAD MORE DATA ///////////////////////////////////\r\n    ///////////////////////////////////////////////////////////////////////////////// \r\n    __load_historydata = (limit) => {\r\n        ///++++++++++++++++++++++++++++++++++++++++++++++++++++++++++//// \r\n        ///++++++++++++++++++++++++++++++++++++++++++++++++++++++++++////\r\n\r\n        fetch(api_name + 'history/History_page/history_data', {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                limit: limit,\r\n            }),\r\n        }).then((response) => response.json())\r\n            .then((responseJson) => {\r\n\r\n                this.setState({\r\n                    history_array: [...this.state.history_array, ...responseJson],\r\n                    loadingmore: false\r\n                });\r\n\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n\r\n        ///++++++++++++++++++++++++++++++++++++++++++++++++++++++++++////\r\n        ///++++++++++++++++++++++++++++++++++++++++++++++++++++++++++////\r\n        // console.log(this.state.history_array);\r\n\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////\r\n    ////////////////////////////////////////////////////////////////\r\n    edit_it = (id, type,name='') => {\r\n       \r\n        if (type == \"event\") {\r\n            this.props.navigation.navigate('Add_suppliers', {\r\n                event_id: id,\r\n                event_name: name\r\n            });\r\n        }\r\n\r\n        if (type == \"supplier\") {\r\n            this.props.navigation.navigate('Explore_data', {\r\n                supp_id: id,\r\n                supp_name: name\r\n            });\r\n        }\r\n\r\n\r\n        if (type == \"product\") {\r\n            this.props.navigation.navigate('Edit_p', {\r\n                product_id: id\r\n            });\r\n        }\r\n        if (type == \"contact\") {\r\n            this.props.navigation.navigate('Edit_c', {\r\n                contact_id: id\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <View style={styles.container}>\r\n                <View>\r\n                    <Text style={styles.heading}>HISTORY</Text>\r\n                </View>\r\n                {this.state.loadingmore &&\r\n                    <ActivityIndicator animating={this.state.loadingmore} size=\"large\" color=\"red\" />\r\n                }\r\n                <FlatList\r\n                    numColumns={1}\r\n                    data={this.state.history_array}\r\n                    refreshControl={\r\n                        <RefreshControl\r\n                            refreshing={this.state.isRefreshing}\r\n                            onRefresh={this._onRefresh.bind(this)}\r\n                        />\r\n                    }\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                    onEndReachedThreshold={3}\r\n                    onEndReached={this.handleLoadMore.bind(this)}\r\n                    renderItem={({ item, index }) => (\r\n\r\n\r\n\r\n                        <View>\r\n\r\n                            {item.data_type == 'event' &&\r\n                                <TouchableOpacity onPress={() => {\r\n                                    this.edit_it(item.event.event_id,'event',item.event.event_name);\r\n                                }}>\r\n                                     <Event_compo image={item.event_images} event_name={item.event.event_name} city={item.event.city} from_date={item.event.from_date} to_date={item.event.to_date} data={item.event} />\r\n                                </TouchableOpacity>\r\n                            }\r\n\r\n\r\n                            {item.data_type == 'supplier' &&\r\n                                <TouchableOpacity onPress={() => {\r\n                                        this.edit_it(item.data.supplier_note_id, 'supplier',item.data.supplier_name);\r\n                                    }}>\r\n                                <Supplier_compo image={item.supplier_images} supplier_name={item.data.supplier_name} />\r\n                                </TouchableOpacity>\r\n                            }\r\n\r\n                            {item.data_type == 'contact' &&\r\n                                <TouchableOpacity onPress={() => {\r\n                                    this.edit_it(item.data.contact_id, 'contact');\r\n                                }}>\r\n                                    <Contact_compo contact_name={item.data.contact_name} supplier_name={item.data.supplier_name} phone={item.data.phone} email={item.data.email} note={item.data.note} data={item.data} image={item.contact_images} />\r\n                                </TouchableOpacity>\r\n                            }\r\n\r\n                            {item.data_type == 'product' &&\r\n                                <TouchableOpacity onPress={() => {\r\n                                    this.edit_it(item.data.product_id, 'product');\r\n                                }}>\r\n                                    <Product_compo product_name={item.data.product_name} supplier_name={item.data.supplier_name} fob_price={item.data.fob_price} moq={item.data.moq} Note={item.data.Note} image={item.pro_images} data={item.data} />\r\n                                </TouchableOpacity>\r\n                            }\r\n\r\n                        </View>\r\n\r\n                    )}\r\n                />\r\n\r\n                <View>\r\n                    <Text>{this.state.loadmore_test}</Text>\r\n                </View>\r\n\r\n\r\n            </View>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n// define your styles\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: '#fff',\r\n\r\n\r\n    },\r\n    heading: {\r\n        fontSize: 22,\r\n        color: \"#000000\",\r\n        marginTop: 10,\r\n        width: 100,\r\n        marginBottom: 20,\r\n        fontWeight: \"bold\"\r\n    }\r\n});\r\n\r\n//make this component available to the app\r\nexport default History_online; \r\n"]},"metadata":{},"sourceType":"module"}