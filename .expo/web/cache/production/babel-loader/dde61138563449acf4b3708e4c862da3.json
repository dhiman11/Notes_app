{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Image from\"react-native-web/dist/exports/Image\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import PixelRatio from\"react-native-web/dist/exports/PixelRatio\";import{SQLite}from'expo-sqlite';import Image_slider from\"./Image_slider\";import{load_products,delete_images,click_images,insert_images,update_product}from\"../models/all_models\";var db=SQLite.openDatabase('db.db');var _Dimensions$get=Dimensions.get('window'),width=_Dimensions$get.width,height=_Dimensions$get.height;import{Ionicons,MaterialCommunityIcons}from'@expo/vector-icons';var Edit_product=function(_Component){_inherits(Edit_product,_Component);function Edit_product(props){var _this;_classCallCheck(this,Edit_product);_this=_possibleConstructorReturn(this,_getPrototypeOf(Edit_product).call(this,props));_this.componentDidMount=function _callee(){var params,product_id;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=_this.props.navigation.state.params;product_id=params['product_id'];_this.setState({product_id:product_id});_context.next=5;return _regeneratorRuntime.awrap(_this.get_data(product_id));case 5:case\"end\":return _context.stop();}}});};_this.process_data=function _callee2(rows,type){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(type==\"product\")){_context2.next=4;break;}products=rows[0];_context2.next=4;return _regeneratorRuntime.awrap(_this.setState({product_name:products.product_name,fob_price:products.fob_price,moq:products.moq,notes:products.note,products_photos:products.images,loadingmore:false}));case 4:case\"end\":return _context2.stop();}}});};_this.get_data=function _callee3(product_id){return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(load_products(0,0,product_id).then(function(response){var data=JSON.parse(response);_this.process_data(data['data'],'product');}));case 2:case\"end\":return _context3.stop();}}});};_this.go_supp_page=function(){_this.props.navigation.goBack(null);};_this.delete_image=function _callee4(image_id){return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(delete_images(image_id).then(function(response){var res=JSON.parse(response);alert(res.result);_this.get_data(_this.state.product_id);}));case 2:case\"end\":return _context4.stop();}}});};_this.click_img=function _callee5(id,table){return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(click_images().then(function(response){insert_images(id,table,response).then(function(results){var data=JSON.parse(results);if(data){_this.get_data(id);}});}));case 2:case\"end\":return _context5.stop();}}});};_this.update=function _callee6(product_id,product_name,fob,moq,notes){return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(update_product(product_id,product_name,fob,moq,notes).then(function(response){var data=JSON.parse(response);if(data){_this.setState({message:data.result});}}));case 2:case\"end\":return _context6.stop();}}});};_this.state={products_data:[],product_id:0,products_photos:[],loadingmore:false,product_name:'',fob_price:'',moq:'',notes:'',user_id:0,message:\"\"};return _this;}_createClass(Edit_product,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(ScrollView,null,React.createElement(View,{style:{backgroundColor:\"#00000096\",position:\"absolute\",zIndex:999,paddingLeft:20,paddingRight:10}},React.createElement(TouchableOpacity,{onPress:function onPress(){_this2.go_supp_page();}},React.createElement(Ionicons,{name:\"md-arrow-round-back\",size:40,style:{color:\"#b9b9b9\",marginRight:10,opacity:0.8}}))),React.createElement(Image_slider,{style:{marginBottom:30},Images_data:this.state.products_photos}),React.createElement(TouchableOpacity,{style:styles.add_new_photo,onPress:function onPress(){_this2.click_img(_this2.state.product_id,'products');}},React.createElement(Image,{source:require(\"../../assets/img/camera.png\"),style:{width:40,height:40,marginLeft:8}}),React.createElement(Text,{style:{color:\"#fff\",marginLeft:9}},\"+ Add\")),React.createElement(TextInput,{value:String(this.state.product_name),style:{position:\"absolute\",top:300,fontSize:28,fontWeight:\"bold\",color:\"#fff\",paddingLeft:10},textAlign:\"left\",onChangeText:function onChangeText(text){return _this2.setState({product_name:text});},placeholderTextColor:\"#818181\",placeholder:\"Product Name*\"}),React.createElement(View,{style:styles.input_container},React.createElement(Text,{style:styles.label},\"Fob price\"),React.createElement(TextInput,{value:String(this.state.fob_price),style:styles.inputfields,textAlign:\"left\",keyboardType:\"phone-pad\",onChangeText:function onChangeText(text){return _this2.setState({fob_price:text});},placeholderTextColor:\"#818181\",placeholder:\"Fob price\"}),React.createElement(Text,{style:styles.label},\"Moq\"),React.createElement(TextInput,{value:String(this.state.moq),style:styles.inputfields,textAlign:\"left\",keyboardType:\"phone-pad\",onChangeText:function onChangeText(text){return _this2.setState({moq:text});},placeholderTextColor:\"#818181\",placeholder:\"Moq\"}),React.createElement(Text,{style:styles.label},\"Note\"),React.createElement(TextInput,{value:String(this.state.notes),multiline:true,style:styles.inputfields,textAlign:\"left\",onChangeText:function onChangeText(text){return _this2.setState({notes:text});},placeholderTextColor:\"#818181\",placeholder:\"Note\"}),React.createElement(Text,{style:{color:\"red\",textAlign:\"left\",marginBottom:10}},this.state.message),React.createElement(TouchableOpacity,{onPress:function onPress(){_this2.update(_this2.state.product_id,_this2.state.product_name,_this2.state.fob_price,_this2.state.moq,_this2.state.notes);},style:{textAlign:\"center\",backgroundColor:\"#176fc1\",width:100,paddingLeft:20,paddingRight:20,paddingTop:10,paddingBottom:10,marginTop:10,marginBottom:20}},React.createElement(Text,{style:{color:\"#fff\",textAlign:\"center\"}},\"Update\")),React.createElement(Text,{style:styles.label},\"All Images\"),this.state.products_photos.map(function(item,index){return React.createElement(View,{key:index,style:styles.bulk_images},React.createElement(TouchableOpacity,{style:styles.trash_images,onPress:function onPress(){_this2.delete_image(item.photo_id);}},React.createElement(Text,null,React.createElement(MaterialCommunityIcons,{name:\"trash-can\",size:25,color:\"red\"}),\"Delete image \")),React.createElement(Image,{style:_this2.state.zoomimage?styles.zoom_images:styles.images,source:{uri:item.src}}));})));}}]);return Edit_product;}(Component);export{Edit_product as default};var styles=StyleSheet.create({container:{flex:1,margin:20,backgroundColor:'#fff'},buttons:{alignItems:\"flex-end\",textAlign:\"center\",marginTop:5,flexDirection:'row',flexWrap:'wrap'},add_supp:{backgroundColor:'#176fc1',paddingLeft:10,paddingTop:10,paddingBottom:10,minWidth:130,maxWidth:130},button:{width:'20%'},label:{fontWeight:\"bold\",marginTop:10},inputfields:{alignSelf:'stretch',opacity:0.4,fontSize:18,backgroundColor:\"#fff\",maxHeight:40,minWidth:300,borderColor:\"#fff\",borderWidth:1},response:{fontSize:20,color:\"red\",marginBottom:0},heading:{fontSize:18,fontWeight:\"normal\",borderColor:\"#176fc1\",borderWidth:1,backgroundColor:\"#176fc1\",color:\"#fff\",padding:5,marginBottom:10},camera:{flex:1,justifyContent:'space-between'},input_container:{paddingLeft:10,paddingRight:10},images:{width:width-20,height:height},zoom_images:{width:width-20,height:height},bulk_images:{marginBottom:10},trash_images:{position:\"absolute\",right:0,zIndex:99},add_new_photo:{position:\"absolute\",right:10,zIndex:99,top:290}});","map":{"version":3,"sources":["D:/Notes_app/Pages/edit_note/Edit_product.js"],"names":["React","Component","SQLite","Image_slider","load_products","delete_images","click_images","insert_images","update_product","db","openDatabase","Dimensions","get","width","height","Ionicons","MaterialCommunityIcons","Edit_product","props","componentDidMount","params","navigation","state","product_id","setState","get_data","process_data","rows","type","products","product_name","fob_price","moq","notes","note","products_photos","images","loadingmore","then","response","data","JSON","parse","go_supp_page","goBack","delete_image","image_id","res","alert","result","click_img","id","table","results","update","fob","message","products_data","user_id","backgroundColor","position","zIndex","paddingLeft","paddingRight","color","marginRight","opacity","marginBottom","styles","add_new_photo","require","marginLeft","String","top","fontSize","fontWeight","text","input_container","label","inputfields","textAlign","paddingTop","paddingBottom","marginTop","map","item","index","bulk_images","trash_images","photo_id","zoomimage","zoom_images","uri","src","StyleSheet","create","container","flex","margin","buttons","alignItems","flexDirection","flexWrap","add_supp","minWidth","maxWidth","button","alignSelf","maxHeight","borderColor","borderWidth","heading","padding","camera","justifyContent","right"],"mappings":"+YAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,ijBAGA,OAASC,MAAT,KAAuB,aAAvB,CACA,MAAOC,CAAAA,YAAP,sBACA,OAASC,aAAT,CAAuBC,aAAvB,CAAsCC,YAAtC,CAAmDC,aAAnD,CAAkEC,cAAlE,4BACA,GAAMC,CAAAA,EAAE,CAAGP,MAAM,CAACQ,YAAP,CAAoB,OAApB,CAAX,C,oBAC0BC,UAAU,CAACC,GAAX,CAAe,QAAf,C,CAAlBC,K,iBAAAA,K,CAAOC,M,iBAAAA,M,CACf,OAASC,QAAT,CAAkBC,sBAAlB,KAAgD,oBAAhD,C,GAEqBC,CAAAA,Y,yDACjB,sBAAYC,KAAZ,CAAmB,8CACf,8EAAMA,KAAN,GADe,MAiBnBC,iBAjBmB,CAiBC,0JAEZC,MAFY,CAEH,MAAKF,KAAL,CAAWG,UAAX,CAAsBC,KAAtB,CAA4BF,MAFzB,CAGZG,UAHY,CAGCH,MAAM,CAAC,YAAD,CAHP,CAIhB,MAAKI,QAAL,CAAc,CACVD,UAAU,CAACA,UADD,CAAd,EAJgB,iDAOV,MAAKE,QAAL,CAAcF,UAAd,CAPU,gDAjBD,OA+BnBG,YA/BmB,CA+BJ,kBAAOC,IAAP,CAAaC,IAAb,4HAEPA,IAAI,EAAI,SAFD,2BAGPC,QAAQ,CAAIF,IAAI,CAAC,CAAD,CAAhB,CAHO,kDAKD,MAAKH,QAAL,CAAc,CAChBM,YAAY,CAAED,QAAQ,CAACC,YADP,CAEhBC,SAAS,CAAEF,QAAQ,CAACE,SAFJ,CAGhBC,GAAG,CAAEH,QAAQ,CAACG,GAHE,CAIhBC,KAAK,CAAEJ,QAAQ,CAACK,IAJA,CAKhBC,eAAe,CAACN,QAAQ,CAACO,MALT,CAMhBC,WAAW,CAAE,KANG,CAAd,CALC,iDA/BI,OAiDnBZ,QAjDmB,CAiDR,kBAAOF,UAAP,yKACDnB,aAAa,CAAC,CAAD,CAAG,CAAH,CAAKmB,UAAL,CAAb,CAA8Be,IAA9B,CAAmC,SAACC,QAAD,CAAc,CACnD,GAAIC,CAAAA,IAAI,CAAKC,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAb,CACA,MAAKb,YAAL,CAAkBc,IAAI,CAAC,MAAD,CAAtB,CAAgC,SAAhC,EACH,CAHK,CADC,iDAjDQ,OAwDnBG,YAxDmB,CAwDN,UAAI,CACb,MAAKzB,KAAL,CAAWG,UAAX,CAAsBuB,MAAtB,CAA6B,IAA7B,EACH,CA1DkB,OA8DnBC,YA9DmB,CA8DJ,kBAAOC,QAAP,yKACNzC,aAAa,CAACyC,QAAD,CAAb,CAAwBR,IAAxB,CAA6B,SAACC,QAAD,CAAY,CAC/C,GAAIQ,CAAAA,GAAG,CAAGN,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAV,CACAS,KAAK,CAACD,GAAG,CAACE,MAAL,CAAL,CACC,MAAKxB,QAAL,CAAc,MAAKH,KAAL,CAAWC,UAAzB,EACC,CAJI,CADM,iDA9DI,OAuEnB2B,SAvEmB,CAuEP,kBAAOC,EAAP,CAAUC,KAAV,yKACF9C,YAAY,GAAGgC,IAAf,CAAoB,SAACC,QAAD,CAAY,CAClChC,aAAa,CAAC4C,EAAD,CAAIC,KAAJ,CAAUb,QAAV,CAAb,CAAiCD,IAAjC,CAAsC,SAACe,OAAD,CAAW,CAC9C,GAAIb,CAAAA,IAAI,CAAIC,IAAI,CAACC,KAAL,CAAWW,OAAX,CAAZ,CACA,GAAGb,IAAH,CAAQ,CACL,MAAKf,QAAL,CAAc0B,EAAd,EACF,CACJ,CALA,EAMH,CAPK,CADE,iDAvEO,OAkFnBG,MAlFmB,CAkFV,kBAAM/B,UAAN,CAAiBO,YAAjB,CAA8ByB,GAA9B,CAAkCvB,GAAlC,CAAsCC,KAAtC,yKACCzB,cAAc,CAACe,UAAD,CAAYO,YAAZ,CAAyByB,GAAzB,CAA6BvB,GAA7B,CAAiCC,KAAjC,CAAd,CAAsDK,IAAtD,CAA2D,SAACC,QAAD,CAAY,CACzE,GAAIC,CAAAA,IAAI,CAAIC,IAAI,CAACC,KAAL,CAAWH,QAAX,CAAZ,CACA,GAAGC,IAAH,CAAQ,CACJ,MAAKhB,QAAL,CAAc,CACVgC,OAAO,CAAEhB,IAAI,CAACS,MADJ,CAAd,EAGH,CACJ,CAPK,CADD,iDAlFU,CAEf,MAAK3B,KAAL,CAAa,CACTmC,aAAa,CAAE,EADN,CAETlC,UAAU,CAAC,CAFF,CAGTY,eAAe,CAAE,EAHR,CAITE,WAAW,CAAE,KAJJ,CAKTP,YAAY,CAAE,EALL,CAMTC,SAAS,CAAE,EANF,CAOTC,GAAG,CAAE,EAPI,CAQTC,KAAK,CAAE,EARE,CASTyB,OAAO,CAAC,CATC,CAUTF,OAAO,CAAC,EAVC,CAAb,CAFe,aAelB,C,gEA+EQ,iBACL,MAGI,qBAAC,UAAD,MACM,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEG,eAAe,CAAE,WAAnB,CAAgCC,QAAQ,CAAE,UAA1C,CAAsDC,MAAM,CAAE,GAA9D,CAAmEC,WAAW,CAAE,EAAhF,CAAoFC,YAAY,CAAE,EAAlG,CAAb,EACF,oBAAC,gBAAD,EAAkB,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACpB,YAAL,GAAqB,CAAxD,EACI,oBAAC,QAAD,EAAU,IAAI,CAAC,qBAAf,CAAqC,IAAI,CAAE,EAA3C,CAAgD,KAAK,CAAE,CAAEqB,KAAK,CAAC,SAAR,CAAmBC,WAAW,CAAE,EAAhC,CAAmCC,OAAO,CAAC,GAA3C,CAAvD,EADJ,CADE,CADN,CAOI,oBAAC,YAAD,EAAc,KAAK,CAAE,CAACC,YAAY,CAAC,EAAd,CAArB,CAAwC,WAAW,CAAE,KAAK7C,KAAL,CAAWa,eAAhE,EAPJ,CASG,oBAAC,gBAAD,EAAkB,KAAK,CAAEiC,MAAM,CAACC,aAAhC,CAA+C,OAAO,CAAE,kBAAI,CAAC,MAAI,CAACnB,SAAL,CAAe,MAAI,CAAC5B,KAAL,CAAWC,UAA1B,CAAqC,UAArC,EAAiD,CAA9G,EACK,oBAAC,KAAD,EAAS,MAAM,CAAE+C,OAAO,+BAAxB,CAA0D,KAAK,CAAE,CAAEzD,KAAK,CAAE,EAAT,CAAaC,MAAM,CAAE,EAArB,CAAyByD,UAAU,CAAE,CAArC,CAAjE,EADL,CAEK,oBAAC,IAAD,EAAM,KAAK,CAAE,CAACP,KAAK,CAAC,MAAP,CAAcO,UAAU,CAAC,CAAzB,CAAb,UAFL,CATH,CAcI,oBAAC,SAAD,EACQ,KAAK,CAAEC,MAAM,CAAC,KAAKlD,KAAL,CAAWQ,YAAZ,CADrB,CAEQ,KAAK,CAAE,CAAC8B,QAAQ,CAAC,UAAV,CAAqBa,GAAG,CAAC,GAAzB,CAA6BC,QAAQ,CAAC,EAAtC,CAAyCC,UAAU,CAAC,MAApD,CAA2DX,KAAK,CAAC,MAAjE,CAAwEF,WAAW,CAAC,EAApF,CAFf,CAGQ,SAAS,CAAC,MAHlB,CAKQ,YAAY,CAAE,sBAACc,IAAD,QAAU,CAAA,MAAI,CAACpD,QAAL,CAAc,CAAEM,YAAY,CAAE8C,IAAhB,CAAd,CAAV,EALtB,CAMQ,oBAAoB,CAAC,SAN7B,CAOQ,WAAW,CAAC,eAPpB,EAdJ,CAyBI,oBAAC,IAAD,EAAM,KAAK,CAAER,MAAM,CAACS,eAApB,EAEI,oBAAC,IAAD,EAAM,KAAK,CAAET,MAAM,CAACU,KAApB,cAFJ,CAII,oBAAC,SAAD,EACI,KAAK,CAAEN,MAAM,CAAC,KAAKlD,KAAL,CAAWS,SAAZ,CADjB,CAEI,KAAK,CAAEqC,MAAM,CAACW,WAFlB,CAGI,SAAS,CAAC,MAHd,CAII,YAAY,CAAC,WAJjB,CAKI,YAAY,CAAE,sBAACH,IAAD,QAAU,CAAA,MAAI,CAACpD,QAAL,CAAc,CAAEO,SAAS,CAAE6C,IAAb,CAAd,CAAV,EALlB,CAMI,oBAAoB,CAAC,SANzB,CAOI,WAAW,CAAC,WAPhB,EAJJ,CAeI,oBAAC,IAAD,EAAM,KAAK,CAAER,MAAM,CAACU,KAApB,QAfJ,CAgBI,oBAAC,SAAD,EACI,KAAK,CAAEN,MAAM,CAAC,KAAKlD,KAAL,CAAWU,GAAZ,CADjB,CAEI,KAAK,CAAEoC,MAAM,CAACW,WAFlB,CAGI,SAAS,CAAC,MAHd,CAII,YAAY,CAAC,WAJjB,CAKI,YAAY,CAAE,sBAACH,IAAD,QAAU,CAAA,MAAI,CAACpD,QAAL,CAAc,CAAEQ,GAAG,CAAE4C,IAAP,CAAd,CAAV,EALlB,CAMI,oBAAoB,CAAC,SANzB,CAOI,WAAW,CAAC,KAPhB,EAhBJ,CA2BI,oBAAC,IAAD,EAAM,KAAK,CAAER,MAAM,CAACU,KAApB,SA3BJ,CA4BI,oBAAC,SAAD,EACI,KAAK,CAAEN,MAAM,CAAC,KAAKlD,KAAL,CAAWW,KAAZ,CADjB,CAEI,SAAS,CAAE,IAFf,CAGI,KAAK,CAAEmC,MAAM,CAACW,WAHlB,CAII,SAAS,CAAC,MAJd,CAKI,YAAY,CAAE,sBAACH,IAAD,QAAU,CAAA,MAAI,CAACpD,QAAL,CAAc,CAAES,KAAK,CAAE2C,IAAT,CAAd,CAAV,EALlB,CAMI,oBAAoB,CAAC,SANzB,CAOI,WAAW,CAAC,MAPhB,EA5BJ,CAuCR,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEZ,KAAK,CAAE,KAAT,CAAgBgB,SAAS,CAAE,MAA3B,CAAkCb,YAAY,CAAE,EAAhD,CAAb,EAAoE,KAAK7C,KAAL,CAAWkC,OAA/E,CAvCQ,CAwCI,oBAAC,gBAAD,EACQ,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACF,MAAL,CAAY,MAAI,CAAChC,KAAL,CAAWC,UAAvB,CAAkC,MAAI,CAACD,KAAL,CAAWQ,YAA7C,CAA0D,MAAI,CAACR,KAAL,CAAWS,SAArE,CAA+E,MAAI,CAACT,KAAL,CAAWU,GAA1F,CAA8F,MAAI,CAACV,KAAL,CAAWW,KAAzG,EAAiH,CAD1I,CAEQ,KAAK,CAAE,CAAE+C,SAAS,CAAE,QAAb,CAAuBrB,eAAe,CAAE,SAAxC,CAAmD9C,KAAK,CAAE,GAA1D,CAA+DiD,WAAW,CAAE,EAA5E,CAAgFC,YAAY,CAAE,EAA9F,CAAkGkB,UAAU,CAAE,EAA9G,CAAkHC,aAAa,CAAE,EAAjI,CAAoIC,SAAS,CAAC,EAA9I,CAAiJhB,YAAY,CAAE,EAA/J,CAFf,EAGQ,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEH,KAAK,CAAE,MAAT,CAAiBgB,SAAS,CAAE,QAA5B,CAAb,WAHR,CAxCJ,CAiDA,oBAAC,IAAD,EAAM,KAAK,CAAEZ,MAAM,CAACU,KAApB,eAjDA,CAoDO,KAAKxD,KAAL,CAAWa,eAAX,CAA2BiD,GAA3B,CAA+B,SAACC,IAAD,CAAOC,KAAP,QAE3B,qBAAC,IAAD,EAAM,GAAG,CAAEA,KAAX,CAAkB,KAAK,CAAElB,MAAM,CAACmB,WAAhC,EACG,oBAAC,gBAAD,EAAkB,KAAK,CAAEnB,MAAM,CAACoB,YAAhC,CAA+C,OAAO,CAAG,kBAAK,CAAE,MAAI,CAAC3C,YAAL,CAAkBwC,IAAI,CAACI,QAAvB,EAAkC,CAAlG,EACM,oBAAC,IAAD,MAAM,oBAAC,sBAAD,EAAwB,IAAI,CAAC,WAA7B,CAAyC,IAAI,CAAE,EAA/C,CAAmD,KAAK,CAAC,KAAzD,EAAN,iBADN,CADH,CAKI,oBAAC,KAAD,EACI,KAAK,CAAE,MAAI,CAACnE,KAAL,CAAWoE,SAAX,CAAuBtB,MAAM,CAACuB,WAA9B,CAA2CvB,MAAM,CAAChC,MAD7D,CAEI,MAAM,CAAE,CAAEwD,GAAG,CAAEP,IAAI,CAACQ,GAAZ,CAFZ,EALJ,CAF2B,EAA/B,CApDP,CAzBJ,CAHJ,CAkGH,C,0BAlMqC5F,S,SAArBgB,Y,aAuMrB,GAAMmD,CAAAA,MAAM,CAAG0B,UAAU,CAACC,MAAX,CAAkB,CAC7BC,SAAS,CAAE,CACPC,IAAI,CAAE,CADC,CAEPC,MAAM,CAAE,EAFD,CAGPvC,eAAe,CAAE,MAHV,CADkB,CAM7BwC,OAAO,CAAE,CACLC,UAAU,CAAE,UADP,CAELpB,SAAS,CAAE,QAFN,CAGLG,SAAS,CAAE,CAHN,CAILkB,aAAa,CAAE,KAJV,CAKLC,QAAQ,CAAE,MALL,CANoB,CAc7BC,QAAQ,CAAE,CACN5C,eAAe,CAAE,SADX,CAENG,WAAW,CAAE,EAFP,CAGNmB,UAAU,CAAE,EAHN,CAINC,aAAa,CAAE,EAJT,CAKNsB,QAAQ,CAAE,GALJ,CAMNC,QAAQ,CAAE,GANJ,CAdmB,CAuB7BC,MAAM,CAAE,CACJ7F,KAAK,CAAE,KADH,CAvBqB,CA0B7BiE,KAAK,CAAE,CACHH,UAAU,CAAE,MADT,CAEHQ,SAAS,CAAE,EAFR,CA1BsB,CA8B7BJ,WAAW,CAAE,CACT4B,SAAS,CAAE,SADF,CAETzC,OAAO,CAAE,GAFA,CAGTQ,QAAQ,CAAE,EAHD,CAITf,eAAe,CAAE,MAJR,CAKTiD,SAAS,CAAE,EALF,CAMTJ,QAAQ,CAAE,GAND,CAOTK,WAAW,CAAE,MAPJ,CAQTC,WAAW,CAAE,CARJ,CA9BgB,CAyC7BvE,QAAQ,CAAE,CACNmC,QAAQ,CAAE,EADJ,CAENV,KAAK,CAAE,KAFD,CAGNG,YAAY,CAAE,CAHR,CAzCmB,CA8C7B4C,OAAO,CAAE,CACLrC,QAAQ,CAAE,EADL,CAELC,UAAU,CAAE,QAFP,CAGLkC,WAAW,CAAE,SAHR,CAILC,WAAW,CAAE,CAJR,CAKLnD,eAAe,CAAE,SALZ,CAMLK,KAAK,CAAE,MANF,CAOLgD,OAAO,CAAE,CAPJ,CAQL7C,YAAY,CAAE,EART,CA9CoB,CAwD7B8C,MAAM,CAAE,CACJhB,IAAI,CAAE,CADF,CAEJiB,cAAc,CAAE,eAFZ,CAxDqB,CA4D7BrC,eAAe,CAAE,CACbf,WAAW,CAAE,EADA,CAEbC,YAAY,CAAE,EAFD,CA5DY,CAgE7B3B,MAAM,CAAE,CACJvB,KAAK,CAAEA,KAAK,CAAC,EADT,CAEJC,MAAM,CAAEA,MAFJ,CAhEqB,CAoE7B6E,WAAW,CAAE,CACT9E,KAAK,CAAEA,KAAK,CAAC,EADJ,CAETC,MAAM,CAAEA,MAFC,CApEgB,CAwE7ByE,WAAW,CAAC,CACRpB,YAAY,CAAC,EADL,CAxEiB,CA2E7BqB,YAAY,CAAC,CACT5B,QAAQ,CAAC,UADA,CAETuD,KAAK,CAAC,CAFG,CAGTtD,MAAM,CAAC,EAHE,CA3EgB,CAgF7BQ,aAAa,CAAC,CACVT,QAAQ,CAAC,UADC,CAEVuD,KAAK,CAAC,EAFI,CAGVtD,MAAM,CAAC,EAHG,CAIVY,GAAG,CAAC,GAJM,CAhFe,CAAlB,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { View, Text, StyleSheet, TextInput,Image,ScrollView,TouchableOpacity } from 'react-native';\r\nimport { Dimensions, PixelRatio } from 'react-native';\r\nimport { SQLite } from 'expo-sqlite';\r\nimport Image_slider from './Image_slider'; \r\nimport { load_products,delete_images, click_images,insert_images, update_product } from '../models/all_models';\r\nconst db = SQLite.openDatabase('db.db'); \r\nconst { width, height } = Dimensions.get('window');\r\nimport { Ionicons,MaterialCommunityIcons } from '@expo/vector-icons';\r\n \r\nexport default class Edit_product extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products_data: [],\r\n            product_id:0,\r\n            products_photos: [],\r\n            loadingmore: false,\r\n            product_name: '',\r\n            fob_price: '',\r\n            moq: '', \r\n            notes: '',\r\n            user_id:0,\r\n            message:\"\"\r\n\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n\r\n        let params = this.props.navigation.state.params;\r\n        let product_id = params['product_id'];  \r\n        this.setState({\r\n            product_id:product_id\r\n        });\r\n        await this.get_data(product_id); \r\n\r\n \r\n\r\n    }\r\n\r\n\r\n    process_data = async (rows, type) => {\r\n\r\n        if (type == \"product\") {\r\n            products =  rows[0];\r\n            \r\n            await this.setState({ \r\n                product_name: products.product_name,\r\n                fob_price: products.fob_price,\r\n                moq: products.moq,\r\n                notes: products.note,\r\n                products_photos:products.images,\r\n                loadingmore: false\r\n            })\r\n\r\n\r\n        }    \r\n    }\r\n\r\n    get_data = async (product_id) => {  \r\n        await load_products(0,0,product_id).then((response) => {\r\n            var data   = JSON.parse(response);   \r\n            this.process_data(data['data'], 'product')\r\n        });   \r\n    }\r\n\r\n    go_supp_page=()=>{\r\n        this.props.navigation.goBack(null);\r\n    }\r\n\r\n\r\n    /////DELETE IMAGES\r\n    delete_image = async (image_id) => {  \r\n       await delete_images(image_id).then((response)=>{\r\n       let res = JSON.parse(response);\r\n       alert(res.result);\r\n        this.get_data(this.state.product_id); \r\n        });\r\n    }\r\n    \r\n    \r\n    click_img = async (id,table) =>{ \r\n        await click_images().then((response)=>{ \r\n            insert_images(id,table,response).then((results)=>{ \r\n               var data =  JSON.parse(results);\r\n               if(data){\r\n                  this.get_data(id); \r\n               } \r\n           })\r\n        })  \r\n    }\r\n\r\n    update = async(product_id,product_name,fob,moq,notes)=>{\r\n        await update_product(product_id,product_name,fob,moq,notes).then((response)=>{\r\n            var data =  JSON.parse(response);\r\n            if(data){\r\n                this.setState({\r\n                    message: data.result\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n           \r\n\r\n            <ScrollView>\r\n                  <View style={{ backgroundColor: \"#00000096\", position: \"absolute\", zIndex: 999, paddingLeft: 20, paddingRight: 10 }}>\r\n                <TouchableOpacity onPress={() => { this.go_supp_page() }} >\r\n                    <Ionicons name=\"md-arrow-round-back\" size={40}  style={{ color:\"#b9b9b9\", marginRight: 10,opacity:0.8 }} />\r\n                </TouchableOpacity>\r\n                </View>\r\n\r\n                <Image_slider style={{marginBottom:30}} Images_data={this.state.products_photos} />\r\n              \r\n               <TouchableOpacity style={styles.add_new_photo} onPress={()=>{this.click_img(this.state.product_id,'products')}}>\r\n                    <Image   source={require('../../assets/img/camera.png')}  style={{ width: 40, height: 40, marginLeft: 8 }} />\r\n                    <Text style={{color:\"#fff\",marginLeft:9}}>+ Add</Text>\r\n               </TouchableOpacity>\r\n\r\n                <TextInput\r\n                        value={String(this.state.product_name)}\r\n                        style={{position:\"absolute\",top:300,fontSize:28,fontWeight:\"bold\",color:\"#fff\",paddingLeft:10}}\r\n                        textAlign=\"left\"\r\n                        // autoFocus={true} \r\n                        onChangeText={(text) => this.setState({ product_name: text })}\r\n                        placeholderTextColor='#818181'\r\n                        placeholder=\"Product Name*\"\r\n                        // ref={component => this._textInput1 = component}\r\n                    />\r\n\r\n                <View style={styles.input_container}> \r\n\r\n                    <Text style={styles.label}>Fob price</Text>\r\n                  \r\n                    <TextInput\r\n                        value={String(this.state.fob_price)}\r\n                        style={styles.inputfields} \r\n                        textAlign=\"left\"\r\n                        keyboardType=\"phone-pad\"\r\n                        onChangeText={(text) => this.setState({ fob_price: text })}\r\n                        placeholderTextColor='#818181'\r\n                        placeholder=\"Fob price\"\r\n                        // ref={component => this._textInput1 = component}\r\n                    />\r\n\r\n                    <Text style={styles.label}>Moq</Text>\r\n                    <TextInput\r\n                        value={String(this.state.moq)}\r\n                        style={styles.inputfields}\r\n                        textAlign=\"left\"\r\n                        keyboardType=\"phone-pad\"\r\n                        onChangeText={(text) => this.setState({ moq: text })}\r\n                        placeholderTextColor='#818181'\r\n                        placeholder=\"Moq\"\r\n                        // ref={component => this._textInput1 = component}\r\n                    />\r\n\r\n                    <Text style={styles.label}>Note</Text>\r\n                    <TextInput\r\n                        value={String(this.state.notes)}\r\n                        multiline={true}\r\n                        style={styles.inputfields}\r\n                        textAlign=\"left\"\r\n                        onChangeText={(text) => this.setState({ notes: text })}\r\n                        placeholderTextColor='#818181'\r\n                        placeholder=\"Note\"\r\n                        // ref={component => this._textInput1 = component}\r\n                    />\r\n\r\n        <Text style={{ color: \"red\", textAlign: \"left\",marginBottom: 10 }}>{this.state.message}</Text>\r\n                    <TouchableOpacity\r\n                            onPress={() => { this.update(this.state.product_id,this.state.product_name,this.state.fob_price,this.state.moq,this.state.notes) }}\r\n                            style={{ textAlign: \"center\", backgroundColor: \"#176fc1\", width: 100, paddingLeft: 20, paddingRight: 20, paddingTop: 10, paddingBottom: 10,marginTop:10,marginBottom: 20, }}>\r\n                            <Text style={{ color: \"#fff\", textAlign: \"center\" }}>Update</Text>   \r\n                    </TouchableOpacity>\r\n\r\n\r\n\r\n              \r\n                <Text style={styles.label}>All Images</Text>\r\n               \r\n                {   \r\n                       this.state.products_photos.map((item, index) => ( \r\n                           \r\n                           <View key={index} style={styles.bulk_images}>\r\n                              <TouchableOpacity style={styles.trash_images}  onPress ={()=> { this.delete_image(item.photo_id) } } > \r\n                                    <Text><MaterialCommunityIcons name=\"trash-can\" size={25} color=\"red\"  />Delete image </Text> \r\n                              </TouchableOpacity>\r\n                               \r\n                               <Image\r\n                                   style={this.state.zoomimage ? styles.zoom_images :styles.images }\r\n                                   source={{ uri: item.src }} /> \r\n                                 \r\n                           </View>\r\n                       ))\r\n                   }  \r\n               \r\n                 </View> \r\n            </ScrollView>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n// define your styles\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        margin: 20,\r\n        backgroundColor: '#fff',\r\n    },\r\n    buttons: {\r\n        alignItems: \"flex-end\",\r\n        textAlign: \"center\",\r\n        marginTop: 5,\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n\r\n    },\r\n    add_supp: {\r\n        backgroundColor: '#176fc1',\r\n        paddingLeft: 10,\r\n        paddingTop: 10,\r\n        paddingBottom: 10,\r\n        minWidth: 130,\r\n        maxWidth: 130,\r\n\r\n    },\r\n    button: {\r\n        width: '20%'\r\n    },\r\n    label: {\r\n        fontWeight: \"bold\",\r\n        marginTop: 10,\r\n    },\r\n    inputfields: {\r\n        alignSelf: 'stretch',\r\n        opacity: 0.4, \r\n        fontSize: 18,\r\n        backgroundColor: \"#fff\",\r\n        maxHeight: 40,\r\n        minWidth: 300,\r\n        borderColor: \"#fff\",\r\n        borderWidth: 1,\r\n       \r\n    },\r\n    response: {\r\n        fontSize: 20,\r\n        color: \"red\",\r\n        marginBottom: 0\r\n    },\r\n    heading: {\r\n        fontSize: 18,\r\n        fontWeight: \"normal\",\r\n        borderColor: \"#176fc1\",\r\n        borderWidth: 1,\r\n        backgroundColor: \"#176fc1\",\r\n        color: \"#fff\",\r\n        padding: 5,\r\n        marginBottom: 10\r\n    },\r\n    camera: {\r\n        flex: 1,\r\n        justifyContent: 'space-between',\r\n    },\r\n    input_container: {\r\n        paddingLeft: 10,\r\n        paddingRight: 10\r\n    },\r\n    images: {\r\n        width: width-20,\r\n        height: height\r\n    },\r\n    zoom_images: {\r\n        width: width-20,\r\n        height: height\r\n    },\r\n    bulk_images:{\r\n        marginBottom:10\r\n    },\r\n    trash_images:{\r\n        position:\"absolute\",\r\n        right:0,\r\n        zIndex:99\r\n    },\r\n    add_new_photo:{\r\n        position:\"absolute\",\r\n        right:10,\r\n        zIndex:99,\r\n        top:290\r\n    }\r\n});"]},"metadata":{},"sourceType":"module"}