{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import React,{Component}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import FlatList from\"react-native-web/dist/exports/FlatList\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Modal from\"react-native-web/dist/exports/Modal\";import My_suppliers from\"./events_components/My_suppliers\";import Create_supplier from\"./notes_components/Create_supplier\";import{MaterialIcons,Entypo,Ionicons}from'@expo/vector-icons';import{load_suppliers}from\"../models/all_models\";var Add_suppliers=function(_Component){_inherits(Add_suppliers,_Component);function Add_suppliers(props){var _this;_classCallCheck(this,Add_suppliers);_this=_possibleConstructorReturn(this,_getPrototypeOf(Add_suppliers).call(this,props));_this.get_suppliers_data=function(event_id){load_suppliers(event_id).then(function(response){var supp_data=JSON.parse(response);console.log(supp_data.data);_this.setState({all_suppliers:supp_data.data});});};_this.go_event_page=function(){_this.props.navigation.navigate('Add_events');};_this.load_suppliers_data=function _callee(supp_data){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.props.navigation.navigate('Explore_data',{supp_id:supp_data.supplier_id,supp_name:supp_data.suppliername});case 1:case\"end\":return _context.stop();}}});};_this.setModalVisible=function(state){_this.setState({add_supp_model:state});_this.get_suppliers_data(_this.state.event_id);};_this.state={Last_events_list:[],event_id:'',event_name:'',add_supp_model:false};return _this;}_createClass(Add_suppliers,[{key:\"componentDidMount\",value:function componentDidMount(){var params=this.props.navigation.state.params;var event_id=params['event_id'];var event_name=params['event_name'];this.get_suppliers_data(event_id);this.setState({event_id:event_id,event_name:event_name});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(View,{style:styles.container},this.state.add_supp_model?React.createElement(Modal,{animationType:\"slide\",transparent:false,visible:this.state.add_supp_model,onRequestClose:function onRequestClose(){_this2.setModalVisible(false);}},React.createElement(TouchableOpacity,{style:{zIndex:10,position:\"absolute\",right:10,top:10},onPress:function onPress(){_this2.setModalVisible(false);}},React.createElement(Image,{source:require(\"../../assets/img/close.png\"),style:{width:40,height:40,marginLeft:8}})),React.createElement(Create_supplier,{handle_visibility:this.setModalVisible.bind(this),single_event:true,event_id:this.state.event_id,event_name:this.state.event_name})):null,React.createElement(View,{style:styles.inline_block},React.createElement(TouchableOpacity,{style:{marginRight:30},onPress:function onPress(){_this2.go_event_page();}},React.createElement(Ionicons,{name:\"md-arrow-round-back\",size:60,color:\"#000000\"}),React.createElement(Text,{style:styles.eventname},\"EVENTS\")),React.createElement(TouchableOpacity,{onPress:function onPress(){_this2.setModalVisible(true);}},React.createElement(MaterialIcons,{name:\"add-circle-outline\",size:60,color:\"#000000\"}),React.createElement(Text,{style:styles.eventname},\"ADD SUPPLIER\"))),React.createElement(Text,{style:styles.heading},this.state.event_name,\" : Suppliers\"),React.createElement(FlatList,{numColumns:4,data:this.state.all_suppliers,keyExtractor:function keyExtractor(item,index){return index.toString();},renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;return React.createElement(My_suppliers,{load_supplier_page:_this2.load_suppliers_data.bind(_this2),supplier_id:item.supplier_note_id,suppliername:item.supplier_name});}}));}}]);return Add_suppliers;}(Component);export{Add_suppliers as default};var styles=StyleSheet.create({container:{flex:1,margin:20},heading:{fontSize:22,color:\"#000000\",marginTop:10,marginBottom:10,fontWeight:\"bold\"},inline_block:{flexDirection:'row',alignSelf:'flex-start'}});","map":{"version":3,"sources":["D:/Notes_app/Pages/add_notes/Add_suppliers.js"],"names":["React","Component","My_suppliers","Create_supplier","MaterialIcons","Entypo","Ionicons","load_suppliers","Add_suppliers","props","get_suppliers_data","event_id","then","response","supp_data","JSON","parse","console","log","data","setState","all_suppliers","go_event_page","navigation","navigate","load_suppliers_data","supp_id","supplier_id","supp_name","suppliername","setModalVisible","state","add_supp_model","Last_events_list","event_name","params","styles","container","zIndex","position","right","top","require","width","height","marginLeft","bind","inline_block","marginRight","eventname","heading","item","index","toString","supplier_note_id","supplier_name","StyleSheet","create","flex","margin","fontSize","color","marginTop","marginBottom","fontWeight","flexDirection","alignSelf"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { View, Text, FlatList, StyleSheet, Image, TouchableOpacity, Modal } from 'react-native';\r\n\r\n////////////////////SQLLITE CONNECTION \r\nimport My_suppliers from './events_components/My_suppliers';\r\nimport Create_supplier from './notes_components/Create_supplier';\r\n////////////////////SQLLITE CONNECTION\r\n \r\n//////////////////////////////////////\r\nimport { MaterialIcons, Entypo, Ionicons } from '@expo/vector-icons';\r\nimport { load_suppliers } from '../models/all_models';\r\n\r\nexport default class Add_suppliers extends Component {\r\n\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            Last_events_list: [],\r\n            event_id: '',\r\n            event_name: '',\r\n            add_supp_model: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        let params = this.props.navigation.state.params;\r\n        let event_id = params['event_id'];\r\n        let event_name = params['event_name'];\r\n        this.get_suppliers_data(event_id);\r\n\r\n        this.setState({\r\n            event_id: event_id,\r\n            event_name: event_name\r\n        })\r\n\r\n\r\n\r\n\r\n        //////// Create the suppliers database if not existed///////////\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    /////////////////////////////\r\n    // GET ALL THE SUPPLIERS DATA from event id\r\n    ////////////////////////////\r\n\r\n    get_suppliers_data = (event_id) => {\r\n\r\n        load_suppliers(event_id).then((response) => {\r\n            var supp_data = JSON.parse(response);\r\n            console.log(supp_data.data);\r\n            this.setState({\r\n                all_suppliers: supp_data.data\r\n            });\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    /////////////////////////////\r\n    ///GO TO EVENT page \r\n    go_event_page = () => {\r\n        this.props.navigation.navigate('Add_events');\r\n    }\r\n\r\n\r\n    load_suppliers_data = async (supp_data) => {\r\n\r\n        this.props.navigation.navigate('Explore_data', {\r\n            supp_id: supp_data.supplier_id,\r\n            supp_name: supp_data.suppliername\r\n        });\r\n    }\r\n\r\n\r\n    setModalVisible = (state) => {\r\n        this.setState({\r\n            add_supp_model: state\r\n        })\r\n        this.get_suppliers_data(this.state.event_id);\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <View style={styles.container} >\r\n\r\n                {this.state.add_supp_model ?\r\n                    <Modal\r\n                        animationType=\"slide\"\r\n                        transparent={false}\r\n                        visible={this.state.add_supp_model}\r\n                        onRequestClose={() => {\r\n                            this.setModalVisible(false)\r\n                        }}>\r\n                        <TouchableOpacity style={{ zIndex: 10, position: \"absolute\", right: 10, top: 10 }} onPress={() => { this.setModalVisible(false) }}>\r\n                            <Image\r\n                                source={require('../../assets/img/close.png')}\r\n                                style={{ width: 40, height: 40, marginLeft: 8 }}\r\n                            />\r\n                        </TouchableOpacity>\r\n                        <Create_supplier handle_visibility={this.setModalVisible.bind(this)} single_event={true} event_id={this.state.event_id} event_name={this.state.event_name} />\r\n                    </Modal> : null}\r\n\r\n\r\n                <View style={styles.inline_block}>\r\n\r\n\r\n                    <TouchableOpacity style={{ marginRight: 30 }} onPress={() => { this.go_event_page() }} >\r\n                        <Ionicons name=\"md-arrow-round-back\" size={60} color=\"#000000\" />\r\n                        <Text style={styles.eventname}>EVENTS</Text>\r\n                    </TouchableOpacity>\r\n\r\n                    <TouchableOpacity onPress={() => {\r\n                        this.setModalVisible(true)\r\n                    }}  >\r\n                        <MaterialIcons name=\"add-circle-outline\" size={60} color=\"#000000\" />\r\n                        <Text style={styles.eventname}>ADD SUPPLIER</Text>\r\n                    </TouchableOpacity>\r\n\r\n\r\n                </View>\r\n\r\n                <Text style={styles.heading}>{this.state.event_name} : Suppliers</Text>\r\n\r\n                <FlatList\r\n                    numColumns={4}\r\n                    data={this.state.all_suppliers}\r\n                    //Item Separator View\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                    renderItem={({ item, index }) => (\r\n\r\n                        <My_suppliers load_supplier_page={this.load_suppliers_data.bind(this)} supplier_id={item.supplier_note_id} suppliername={item.supplier_name} />\r\n\r\n                    )}\r\n\r\n                />\r\n\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        margin: 20,\r\n\r\n    },\r\n    heading: {\r\n        fontSize: 22,\r\n        color: \"#000000\",\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        fontWeight: \"bold\"\r\n    },\r\n    inline_block: {\r\n        flexDirection: 'row',\r\n        alignSelf: 'flex-start'\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}